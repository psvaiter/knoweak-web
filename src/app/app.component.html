<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
  <button *ngIf="auth.isAuthenticated()" type="button" class="btn btn-sm btn-secondary mx-1 d-sm-block d-md-none" (click)="toggleSidebar()">
    <fa name="bars"></fa>
  </button>
  <a class="navbar-brand mx-3" href="#">knoweak - A <b>Know Your Weakness</b> Tool</a>
  <ul class="navbar-nav px-3">
    <li class="nav-item text-nowrap">
      <a class="nav-link" [routerLink]="" (click)="login()" *ngIf="!auth.isAuthenticated()">Login</a>
      <a class="nav-link" [routerLink]="" (click)="logout()" *ngIf="auth.isAuthenticated()">Sair</a>
    </li>
  </ul>
</nav>

<div class="container-fluid" *ngIf="!auth.isAuthenticated()">
  
  <div class="card-group py-4">
    <div class="card text-center">
      <div class="card-img-top pt-3"><fa size="4x" name="building"></fa></div>
      <div class="card-body">
        Gerencie organizações e suas estruturas.
      </div>
    </div>

    <div class="card text-center">
      <div class="card-img-top pt-3"><fa size="4x" name="sitemap"></fa></div>
      <div class="card-body">
        Catalogue processos, ativos, ameaças etc. para reutilização em outras organizações.
      </div>
    </div>

    <div class="card text-center">
      <div class="card-img-top pt-3"><fa size="4x" name="calculator"></fa></div>
      <div class="card-body">
        Calcule impacto, probabilidade e risco de incidentes de Segurança da Informação.
      </div>
    </div>
  </div>
  
</div>

<div class="container-fluid" *ngIf="auth.isAuthenticated()">
  <div class="row d-flex align-items-strecth flex-nowrap">
    <nav class="sidebar bg-light" [class.sidebar-invisible]="!isOpen">
      
      <ul class="nav flex-column">
        <li class="nav-item">
          <a routerLink="dashboard" routerLinkActive="active" class="nav-link">
            <fa name="eye"></fa>
            Dashboard
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="organizations" routerLinkActive="active" class="nav-link">
            <fa name="building"></fa>
            Organizações
          </a>
        </li>
      </ul>

      <h6 class="sidebar-heading px-3 pb-2 mt-4 text-muted">
        Catálogo
      </h6>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a routerLink="catalog/departments" routerLinkActive="active" class="nav-link">
            <fa name="columns"></fa>
            Departamentos
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="catalog/macroprocesses" routerLinkActive="active" class="nav-link">
            <fa name="th"></fa>
            Macroprocessos
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="catalog/processes" routerLinkActive="active" class="nav-link">
            <fa name="square"></fa>
            Processos
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="catalog/services" routerLinkActive="active" class="nav-link">
            <fa name="cogs"></fa>
            Serviços de TI
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="catalog/assets" routerLinkActive="active" class="nav-link">
            <fa name="laptop"></fa>
            Ativos de TI
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="catalog/securityThreats" routerLinkActive="active" class="nav-link">
            <fa name="exclamation-triangle"></fa>
            Ameaças
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="catalog/mitigationControls" routerLinkActive="active" class="nav-link">
            <fa name="fire-extinguisher"></fa>
            Controles Mitigatórios
          </a>
        </li>
      </ul>

      <!-- <h6 class="sidebar-heading px-3 pb-2 mt-4 text-muted">
        Admin
      </h6>
      <ul class="nav flex-column mb-2">
        <li class="nav-item">
          <a routerLink="users" routerLinkActive="active" class="nav-link">
            <fa name="users"></fa>
            Usuários
          </a>
        </li>
      </ul> -->

    </nav>
    <main role="main" class="w-100 pt-3 px-4 flex-grow-1">
      <div class="pb-2 mb-3">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>
